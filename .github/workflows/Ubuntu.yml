name: Test PowerShell on Ubuntu
on: push
jobs:
  pester-test:
    name: Pester test
    runs-on: ubuntu-latest
    steps:
    - name: Check out repository code
      uses: actions/checkout@v3
    - name: Perform a Pester test from the command-line
      shell: pwsh
      run: Test-Path resultsfile.log | Should -Be $true
    - name: Perform a Pester test from the Tests.ps1 file
      shell: pwsh
      run: |
        # Invoke-Pester Unit.Tests.ps1 -Passthru
        Invoke-Pester -Path '0.0.1/tests/EnvTools.Tests.ps1' -Passthru
        Invoke-Pester -Path '0.0.1/tests/PathTools.Tests.ps1' -Passthru
        Invoke-Pester -Path '0.0.1/tests/ProxyTools.Tests.ps1' -Passthru

